{"ast":null,"code":"'use strict';\n\nexports.__esModule = true;\nexports.InnerSlider = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _eventHandlers = require('./mixins/event-handlers');\n\nvar _eventHandlers2 = _interopRequireDefault(_eventHandlers);\n\nvar _helpers = require('./mixins/helpers');\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _initialState = require('./initial-state');\n\nvar _initialState2 = _interopRequireDefault(_initialState);\n\nvar _defaultProps = require('./default-props');\n\nvar _defaultProps2 = _interopRequireDefault(_defaultProps);\n\nvar _createReactClass = require('create-react-class');\n\nvar _createReactClass2 = _interopRequireDefault(_createReactClass);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar _innerSliderUtils = require('./utils/innerSliderUtils');\n\nvar _trackHelper = require('./mixins/trackHelper');\n\nvar _track = require('./track');\n\nvar _dots = require('./dots');\n\nvar _arrows = require('./arrows');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar InnerSlider = exports.InnerSlider = (0, _createReactClass2.default)({\n  displayName: 'InnerSlider',\n  mixins: [_helpers2.default, _eventHandlers2.default],\n  list: null,\n  // wraps the track\n  track: null,\n  // component that rolls out like a film\n  listRefHandler: function listRefHandler(ref) {\n    this.list = ref;\n  },\n  trackRefHandler: function trackRefHandler(ref) {\n    this.track = ref;\n  },\n  getInitialState: function getInitialState() {\n    return _extends({}, _initialState2.default, {\n      currentSlide: this.props.initialSlide\n    });\n  },\n  componentWillMount: function componentWillMount() {\n    if (this.props.init) {\n      this.props.init();\n    }\n\n    if (this.props.lazyLoad) {\n      var slidesToLoad = (0, _innerSliderUtils.getOnDemandLazySlides)((0, _objectAssign2.default)({}, this.props, this.state));\n\n      if (slidesToLoad.length > 0) {\n        this.setState(function (prevState, props) {\n          return {\n            lazyLoadedList: prevState.lazyLoadedList.concat(slidesToLoad)\n          };\n        });\n\n        if (this.props.onLazyLoad) {\n          this.props.onLazyLoad(slidesToLoad);\n        }\n      }\n    }\n  },\n  componentDidMount: function componentDidMount() {\n    var _this = this;\n\n    var spec = (0, _objectAssign2.default)({\n      listRef: this.list,\n      trackRef: this.track\n    }, this.props);\n    var initState = (0, _innerSliderUtils.initializedState)(spec);\n    (0, _objectAssign2.default)(spec, {\n      slideIndex: initState.currentSlide\n    }, initState);\n    var targetLeft = (0, _trackHelper.getTrackLeft)(spec);\n    (0, _objectAssign2.default)(spec, {\n      left: targetLeft\n    });\n    var trackStyle = (0, _trackHelper.getTrackCSS)(spec);\n    initState['trackStyle'] = trackStyle;\n    this.setState(initState, function () {\n      _this.adaptHeight();\n\n      _this.autoPlay(); // it doesn't have to be here\n\n    }); // To support server-side rendering\n\n    if (!window) {\n      return;\n    }\n\n    if (window.addEventListener) {\n      window.addEventListener('resize', this.onWindowResized);\n    } else {\n      window.attachEvent('onresize', this.onWindowResized);\n    }\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    if (this.animationEndCallback) {\n      clearTimeout(this.animationEndCallback);\n    }\n\n    if (window.addEventListener) {\n      window.removeEventListener('resize', this.onWindowResized);\n    } else {\n      window.detachEvent('onresize', this.onWindowResized);\n    }\n\n    if (this.autoplayTimer) {\n      clearInterval(this.autoplayTimer);\n    }\n  },\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    var _this2 = this;\n\n    var spec = (0, _objectAssign2.default)({\n      listRef: this.list,\n      trackRef: this.track\n    }, nextProps, this.state);\n    var updatedState = (0, _innerSliderUtils.initializedState)(spec);\n    (0, _objectAssign2.default)(spec, {\n      slideIndex: updatedState.currentSlide\n    }, updatedState);\n    var targetLeft = (0, _trackHelper.getTrackLeft)(spec);\n    (0, _objectAssign2.default)(spec, {\n      left: targetLeft\n    });\n    var trackStyle = (0, _trackHelper.getTrackCSS)(spec); // not setting trackStyle in other cases because no prop change can trigger slideChange\n\n    if (_react2.default.Children.count(this.props.children) !== _react2.default.Children.count(nextProps.children)) {\n      updatedState['trackStyle'] = trackStyle;\n    }\n\n    this.setState(updatedState, function () {\n      if (_this2.state.currentSlide >= _react2.default.Children.count(nextProps.children)) {\n        _this2.changeSlide({\n          message: 'index',\n          index: _react2.default.Children.count(nextProps.children) - nextProps.slidesToShow,\n          currentSlide: _this2.state.currentSlide\n        });\n      } // the following doesn't have to be this way\n\n\n      if (!nextProps.autoplay) _this2.pause();else _this2.autoPlay(nextProps.autoplay);\n    });\n  },\n  componentDidUpdate: function componentDidUpdate() {\n    var _this3 = this;\n\n    var images = document.querySelectorAll('.slick-slide img');\n    images.forEach(function (image) {\n      if (!image.onload) {\n        image.onload = function () {\n          return setTimeout(function () {\n            return _this3.update(_this3.props);\n          }, _this3.props.speed);\n        };\n      }\n    });\n\n    if (this.props.reInit) {\n      this.props.reInit();\n    }\n\n    if (this.props.lazyLoad) {\n      var slidesToLoad = (0, _innerSliderUtils.getOnDemandLazySlides)((0, _objectAssign2.default)({}, this.props, this.state));\n\n      if (slidesToLoad.length > 0) {\n        this.setState(function (prevState, props) {\n          return {\n            lazyLoadedList: prevState.lazyLoadedList.concat(slidesToLoad)\n          };\n        });\n\n        if (this.props.onLazyLoad) {\n          this.props.onLazyLoad(slidesToLoad);\n        }\n      }\n    } // if (this.props.onLazyLoad) {\n    //   this.props.onLazyLoad([leftMostSlide])\n    // }\n\n\n    this.adaptHeight();\n  },\n  onWindowResized: function onWindowResized() {\n    this.update(this.props); // animating state should be cleared while resizing, otherwise autoplay stops working\n\n    this.setState({\n      animating: false\n    });\n    clearTimeout(this.animationEndCallback);\n    delete this.animationEndCallback;\n  },\n  slickPrev: function slickPrev() {\n    var _this4 = this; // this and fellow methods are wrapped in setTimeout\n    // to make sure initialize setState has happened before\n    // any of such methods are called\n\n\n    setTimeout(function () {\n      return _this4.changeSlide({\n        message: 'previous'\n      });\n    }, 0);\n  },\n  slickNext: function slickNext() {\n    var _this5 = this;\n\n    setTimeout(function () {\n      return _this5.changeSlide({\n        message: 'next'\n      });\n    }, 0);\n  },\n  slickGoTo: function slickGoTo(slide) {\n    var _this6 = this;\n\n    slide = Number(slide);\n    !isNaN(slide) && setTimeout(function () {\n      return _this6.changeSlide({\n        message: 'index',\n        index: slide,\n        currentSlide: _this6.state.currentSlide\n      });\n    }, 0);\n  },\n  render: function render() {\n    var className = (0, _classnames2.default)('slick-initialized', 'slick-slider', this.props.className, {\n      'slick-vertical': this.props.vertical\n    });\n    var spec = (0, _objectAssign2.default)({}, this.props, this.state);\n    var trackProps = (0, _innerSliderUtils.extractObject)(spec, ['fade', 'cssEase', 'speed', 'infinite', 'centerMode', 'focusOnSelect', 'currentSlide', 'lazyLoad', 'lazyLoadedList', 'rtl', 'slideWidth', 'slideHeight', 'listHeight', 'vertical', 'slidesToShow', 'slidesToScroll', 'slideCount', 'trackStyle', 'variableWidth', 'unslick', 'centerPadding']);\n    trackProps.focusOnSelect = this.props.focusOnSelect ? this.selectHandler : null;\n    var dots;\n\n    if (this.props.dots === true && this.state.slideCount >= this.props.slidesToShow) {\n      var dotProps = (0, _innerSliderUtils.extractObject)(spec, ['dotsClass', 'slideCount', 'slidesToShow', 'currentSlide', 'slidesToScroll', 'clickHandler', 'children', 'customPaging', 'infinite', 'appendDots']);\n      dotProps.clickHandler = this.changeSlide;\n      dots = _react2.default.createElement(_dots.Dots, dotProps);\n    }\n\n    var prevArrow, nextArrow;\n    var arrowProps = (0, _innerSliderUtils.extractObject)(spec, ['infinite', 'centerMode', 'currentSlide', 'slideCount', 'slidesToShow', 'prevArrow', 'nextArrow']);\n    arrowProps.clickHandler = this.changeSlide;\n\n    if (this.props.arrows) {\n      prevArrow = _react2.default.createElement(_arrows.PrevArrow, arrowProps);\n      nextArrow = _react2.default.createElement(_arrows.NextArrow, arrowProps);\n    }\n\n    var verticalHeightStyle = null;\n\n    if (this.props.vertical) {\n      verticalHeightStyle = {\n        height: this.state.listHeight\n      };\n    }\n\n    var centerPaddingStyle = null;\n\n    if (this.props.vertical === false) {\n      if (this.props.centerMode === true) {\n        centerPaddingStyle = {\n          padding: '0px ' + this.props.centerPadding\n        };\n      }\n    } else {\n      if (this.props.centerMode === true) {\n        centerPaddingStyle = {\n          padding: this.props.centerPadding + ' 0px'\n        };\n      }\n    }\n\n    var listStyle = (0, _objectAssign2.default)({}, verticalHeightStyle, centerPaddingStyle);\n    var listProps = {\n      className: 'slick-list',\n      style: listStyle,\n      onMouseDown: this.swipeStart,\n      onMouseMove: this.state.dragging ? this.swipeMove : null,\n      onMouseUp: this.swipeEnd,\n      onMouseLeave: this.state.dragging ? this.swipeEnd : null,\n      onTouchStart: this.swipeStart,\n      onTouchMove: this.state.dragging ? this.swipeMove : null,\n      onTouchEnd: this.swipeEnd,\n      onTouchCancel: this.state.dragging ? this.swipeEnd : null,\n      onKeyDown: this.props.accessibility ? this.keyHandler : null\n    };\n    var innerSliderProps = {\n      className: className,\n      onMouseEnter: this.onInnerSliderEnter,\n      onMouseLeave: this.onInnerSliderLeave,\n      onMouseOver: this.onInnerSliderOver,\n      dir: 'ltr'\n    };\n\n    if (this.props.unslick) {\n      listProps = {\n        className: 'slick-list'\n      };\n      innerSliderProps = {\n        className: className\n      };\n    }\n\n    return _react2.default.createElement('div', innerSliderProps, !this.props.unslick ? prevArrow : '', _react2.default.createElement('div', _extends({\n      ref: this.listRefHandler\n    }, listProps), _react2.default.createElement(_track.Track, _extends({\n      ref: this.trackRefHandler\n    }, trackProps), this.props.children)), !this.props.unslick ? nextArrow : '', !this.props.unslick ? dots : '');\n  }\n});","map":null,"metadata":{},"sourceType":"script"}